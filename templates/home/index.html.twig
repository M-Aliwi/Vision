{% extends 'base.html.twig' %}

{% block title %}Vision | Home{% endblock %}

{% block body %}
    {% if app.user %}
        <div style="text-align:right; max-width:1200px; margin:1em auto 0;">
            <a href="{{ path('post_new') }}" class="btn btn-success" style="margin-bottom:1em;">+ Create New Pin</a>
        </div>
    {% endif %}
    <style>
        .pinterest-grid {
            column-count: 3;
            column-gap: 1em;
            margin: 2em auto;
            max-width: 1200px;
        }
        .pin {
            background: #fff;
            margin-bottom: 1em;
            display: inline-block;
            width: 100%;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.07);
            overflow: hidden;
            break-inside: avoid;
        }
        .pin img {
            width: 100%;
            display: block;
        }
        .pin-desc {
            padding: 0.7em 1em;
            font-size: 1em;
        }
        @media (max-width: 900px) {
            .pinterest-grid { column-count: 2; }
        }
        @media (max-width: 600px) {
            .pinterest-grid { column-count: 1; }
        }
    </style>
    <div class="pinterest-grid">
        {% for post in posts %}
            <div class="pin">
                <img src="/{{ post.URL }}" alt="Pin image">
                <div class="pin-desc">{{ post.discription }}</div>
            </div>
        {% else %}
            <p>No posts found.</p>
        {% endfor %}
    </div>
{% endblock %}
